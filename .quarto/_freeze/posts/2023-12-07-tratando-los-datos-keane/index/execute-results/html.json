{
  "hash": "853ac1184ea442a27409ba2334c27e3d",
  "result": {
    "markdown": "---\ntitle: Tratando los datos Keane\nauthor: Joel Burbano\ndate: 2023-12-07\ncategories: [\"Econometría\",\"Python\"]\ndescription: En este post se realizara un analisis de los datos keane\n---\n\n<!--- 1. Definición del problema --->\n\nEn este post abordaremos un poco los datos keane obtenidos de `Gretl`\n\nEmpezaremos por importar las librerías necesarias\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\npd.options.display.max_columns=None\n\nimport numpy as np\nfrom scipy import stats\nimport matplotlib.pyplot as plt \nimport seaborn as sb\n```\n:::\n\n\n<!-- 2 Recopilación de datos -->\n\nA continuación nos disponemos a visualizar los datos\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\nkeane=pd.read_csv(\"keane.csv\")\nkeane=pd.DataFrame(keane)\n```\n:::\n\n\n::: {.cell execution_count=3}\n``` {.python .cell-code}\nkeane.head(5)\n```\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>id</th>\n      <th>numyrs</th>\n      <th>year</th>\n      <th>choice</th>\n      <th>wage</th>\n      <th>educ</th>\n      <th>expwc</th>\n      <th>expbc</th>\n      <th>expser</th>\n      <th>manuf</th>\n      <th>black</th>\n      <th>lwage</th>\n      <th>enroll</th>\n      <th>employ</th>\n      <th>attrit</th>\n      <th>exper</th>\n      <th>expersq</th>\n      <th>status</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>1</td>\n      <td>9</td>\n      <td>81</td>\n      <td>2.0</td>\n      <td>NaN</td>\n      <td>10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>1</td>\n      <td>NaN</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>9</td>\n      <td>82</td>\n      <td>2.0</td>\n      <td>NaN</td>\n      <td>10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>1</td>\n      <td>NaN</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>1</td>\n      <td>9</td>\n      <td>83</td>\n      <td>2.0</td>\n      <td>NaN</td>\n      <td>10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>1</td>\n      <td>NaN</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>2.0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>1</td>\n      <td>9</td>\n      <td>84</td>\n      <td>1.0</td>\n      <td>NaN</td>\n      <td>10</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>1</td>\n      <td>NaN</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>1.0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>1</td>\n      <td>9</td>\n      <td>85</td>\n      <td>2.0</td>\n      <td>NaN</td>\n      <td>11</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0.0</td>\n      <td>1</td>\n      <td>NaN</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>0</td>\n      <td>2.0</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n<!-- 3 Limpieza y preparación de datos -->\n\nCrearemos etiquetas para las observaciones de acuerdo a \"choice\" estudiante=1, hogar=2, cualificado=3, no-cualificado=4, servicio=5\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\nkeane[\"choice\"]=np.where(keane[\"choice\"]==1,\"estudiante\",\n         np.where(keane[\"choice\"]==2,\"hogar\",\n                  np.where(keane[\"choice\"]==3,\"cualificado\",\n                           np.where(keane[\"choice\"]==4,\"no-cualificado\",\"servicio\"))))\n```\n:::\n\n\n<!-- Análisis de datos-->\n\nProcedemos a gráficar la evolución de salarios separado por color de piel\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\nsb.scatterplot(data=keane,x=\"year\",y=\"wage\",hue=\"black\",style=\"black\",style_order=[1,0])\nplt.show()\nplt.clf()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-6-output-1.png){width=618 height=429}\n:::\n\n::: {.cell-output .cell-output-display}\n```\n<Figure size 672x480 with 0 Axes>\n```\n:::\n:::\n\n\nEn esta gráfica evidenciamos que a lo largo de los años aumenta la discriminación.\n\nVisualicemos lo siguiente: seleccionando sólo las personas que trabajan se realizara un gráfico de la evolución de los salarios separados por la variable `choice`\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\nsb.scatterplot(data=keane[keane[\"employ\"]==1],x=\"year\", y=\"wage\",hue=\"choice\")\nplt.show()\nplt.clf()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-7-output-1.png){width=618 height=429}\n:::\n\n::: {.cell-output .cell-output-display}\n```\n<Figure size 672x480 with 0 Axes>\n```\n:::\n:::\n\n\nSe observa que la terciarización de la economía ha aumentado las diferencias entre trabajadores cualificados y no cualificados, así como, entre servicio e industria.\n\nAhora procedamos al análisis de la variable `educ` para ello primero la Codificaremos de acuerdo a educación básica=1, educación media=2, y educación superior=3.\n\n::: {.cell execution_count=7}\n``` {.python .cell-code}\nkeane[\"educCode\"]=np.where(keane[\"educ\"]<=9,1,np.where(keane[\"educ\"]<=12,2,3))\n```\n:::\n\n\nSeleccionando solo las personas que trabajan tenemos lo siguiente:\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\nsb.scatterplot(data=keane[keane[\"employ\"]==1],x=\"year\",y=\"wage\",hue=\"educCode\")\nplt.show()\nplt.clf()\n```\n\n::: {.cell-output .cell-output-display}\n![](index_files/figure-html/cell-9-output-1.png){width=618 height=429}\n:::\n\n::: {.cell-output .cell-output-display}\n```\n<Figure size 672x480 with 0 Axes>\n```\n:::\n:::\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}